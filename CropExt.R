library(terra)
MI1 <- rast('/lustre1/scratch/348/vsc34871/output/MI_MaxTmerge.tif')
MI2 <- rast('/lustre1/scratch/348/vsc34871/output/MI_MinTmerge.tif')
MI3 <- rast('/lustre1/scratch/348/vsc34871/input/MI/MI_WarmingMagnitude.tif')

MI1ext <- ext(MI1)
cropext <- ext(MI3)
MI1crop <- crop(MI1, cropext)
writeRaster(MI1crop, filename = '/lustre1/scratch/348/vsc34871/input/MI/MI_MaxTOffset_V2_cropext.tif', overwrite=T)
print(MI1crop)

MI2ext <- ext(MI2)
MI2crop <- crop(MI2, cropext)
writeRaster(MI2crop, filename = '/lustre1/scratch/348/vsc34871/input/MI/MI_MinTOffset_V2_cropext.tif', overwrite=T)
print(MI2crop)
